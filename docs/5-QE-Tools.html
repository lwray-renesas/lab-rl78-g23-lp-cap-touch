<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="style/index.css">
    <script src="js/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="js/highlight/styles/atom-one-light.min.css">
    <script src="js/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body>
    <a target="_blank" href="https://www.renesas.com/"><img src="img/renesas_logomark_s.png" class="logo"></a><br><br><br>

    <ol id="nav" title="Lab Contents" class="sidebar-lists">
        <li><a href="index.html">Home</a></li>
        <li><a href="1-Installation.html">1. Installation</a></li>
        <li><a href="2-Preparation.html">2. Preparation</a></li>
        <li><a href="3-Project-Creation.html">3. Creating the Project</a></li>
        <li><a href="4-Project-Configuration.html">4. Configuring the Project</a></li>
        <li class="activeListItem"><a class="active" href="5-QE-Tools.html">5. QE Tools</a></li>
        <li><a href="6-Project-Build.html">6. Building the Project</a></li>
        <li><a href="7-Project-Debug.html">7. Debugging the Project</a></li>
        <li><a href="8-Achieving-Measuring-Low-Power.html">8. Achieving & Measuring Low Power</a></li>
    </ol>

    <h1>5. QE Tools</h1>
    <p>Here we will guide you through the utmost basic use of the QE tools for capactive touch, in order to tune the RL78/G23 128p FPB and output both
        the tuning parameters and some sample code.
    </p>

    <h2 id="5.1">5.1 - Launching QE</h2>
    <p>First launch the QE Tools.<br>
        <b>Renesas Views &rarr; Renesas QE &rarr; CapTouch Main</b><br>
        <a target="_blank" href="img/launchqe.gif"><img src="img/launchqe.gif" class="zoomable"></a><br>
    </p>

    <h2 id="5.2">5.2 - QE Configuration</h2>
    <p>Now in the <b>2. Preparation</b> column of the CapTouch Main (QE) window, use the first drop down to select your project.<br>
        Then in the second drop down select <b>Create a new configuration</b>.<br>
        When the configuration editor appears, select <b>Button</b> and create two buttons bt clickong on the blank work area twice.<br>
        Press <b>Esc</b> to cancel making buttons on click.<br>
        Then double click each of the buttons and select <b>TS10</b> & <b>TS11</b> respectively.<br>
        Finaly click <b>Create</b>.<br>
        <a target="_blank" href="img/qeconfig.gif"><img src="img/qeconfig.gif" class="zoomable"></a><br>
    </p>

    <h2 id="5.3">5.3 - Debug Configuration</h2>
    <p>In order to run the tuning on this project we must make some adjustments to the debug configurations, this is so we can use the COM port debugger
        to perfrom the tuning process.<br>
        <b>[Right-Click] project &rarr; Debug As &rarr; Debug Configurations... &rarr; Renesas GDB Hardware debug configuration (for your project)</b>.<br>
        Select the <b>Debugger</b> tab and finally select the <b>Connection Settings</b> mini-tab.<br>
        In here set the correct COM port which the RL78/G23 128p FPB board has appeard as.<br>
        Finally click <b>Apply</b> and <b>Close</b>.<br>
        <a target="_blank" href="img/debugconfig.gif"><img src="img/debugconfig.gif" class="zoomable"></a><br>
    </p>

    <h2 id="5.4">5.4 - Tuning</h2>
    <p>To tune the capactive touch please follow along with the <b>video</b> below.<br>
        To start the tuning process ensure in column <b>2. Preparation</b> that in both dropdowns the project and tifcfg are
        approriately selected and only then to click <b>Start Tuning</b> in column <b>2. Tuning</b>.<br><br>
        <video width="80%" controls>
        <source src="img/lp_cap_touch.mp4" type="video/mp4">
        Your browser does not support HTML video.
      </video><br><br>
      For clarification, when touching the buttons for touch sensitivity tuning, we are looking for a difference of at least a <b>few thousand counts</b>.<br><br>
      Example <b>No Touch</b>:<br>
      <a target="_blank" href="img/notouch.png"><img src="img/notouch.png"></a><br>
      Example <b>Touch</b>:<br>
      <a target="_blank" href="img/touch.png"><img src="img/touch.png"></a><br>
    </p>

    <h2 id="5.5">5.5 - Output & Sample Code</h2>
    <p>Now to retrieve the tuning data computed in the previous step we must acquire the parameter file.<br>
        First though, to enable the snooze operation and hardware triggering of the CTSU we have to enable the <b>Use an external trigger</b> checkbox.<br>
        Then click <b>Output Parameters Files</b>.<br>
        <a target="_blank" href="img/useexternaltrigger.gif"><img src="img/useexternaltrigger.gif" class="zoomable"></a><br>
        Now in the <b>3. Coding</b> column of the CapTouch Main (QE) window, click <b>Show Sample</b> and proceed to click <b>Output to a File</b>.<br>
        This will place the parameter files and code in the source folder qe_gen.<br>
        <a target="_blank" href="img/outputsamplecode.gif"><img src="img/outputsamplecode.gif" class="zoomable"></a><br>
    </p>
    
    <br><br>
    <button class="nextPageButton" onclick="document.location='6-Project-Build.html'">Next Page...</button>
    
</body>
<script src="js/localnav.js"></script>

</html>